# ğŸŒ¡ï¸ ë‚ ì”¨ ê¸°ë°˜ ì˜·ì°¨ë¦¼ ê³µìœ  í”Œë«í¼

> "ì˜¤ëŠ˜ ê°™ì€ ë‚ ì”¨ì—ëŠ” ë­ ì…ì§€?" - ì‹¤ì œ ë‚ ì”¨ ë°ì´í„°ì™€ AI ë¶„ì„ ê¸°ë°˜ ì˜·ì°¨ë¦¼ ì¶”ì²œ ë° ê³µìœ  ì„œë¹„ìŠ¤
> 

[![Next.js](https://img.shields.io/badge/Next.js-14-black)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/)
[![Firebase](https://img.shields.io/badge/Firebase-10-orange)](https://firebase.google.com/)
[![Socket.io](https://img.shields.io/badge/Socket.io-4.0-green)](https://socket.io/)

## ğŸ“‹ ëª©ì°¨

- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸](#-ì£¼ìš”-ê¸°ëŠ¥-ìƒì„¸)
- [ë°°í¬](#-ë°°í¬)
- [í™˜ê²½ ë³€ìˆ˜](#-í™˜ê²½-ë³€ìˆ˜)
- [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. ğŸ¤– AI ê¸°ë°˜ ì˜·ì°¨ë¦¼ ë¶„ì„
- **Google Vision API**ë¥¼ í™œìš©í•œ ìë™ ì˜ë¥˜ ì¸ì‹
- ìƒì˜/í•˜ì˜ ìë™ ë¶„ë¥˜ (ë¯¼ì†Œë§¤, ë°˜ì†Œë§¤, ê¸´ì†Œë§¤, ì•„ìš°í„° / ë°˜ë°”ì§€, ê¸´ë°”ì§€, ì§§ì€ì¹˜ë§ˆ, ê¸´ì¹˜ë§ˆ)
- ì‹ ë¢°ë„ ê¸°ë°˜ í’ˆì§ˆ ê²€ì¦

### 2. ğŸŒ¤ï¸ ì‹¤ì‹œê°„ ë‚ ì”¨ ì—°ë™
- **OpenWeather, Open-Meteo API** ê¸°ë°˜ í˜„ì¬ ìœ„ì¹˜ ë‚ ì”¨ ìë™ ê°ì§€
- ì˜¨ë„ ë²”ìœ„ë³„ í†µê³„ ìë™ ìƒì„±
- 8ë‹¨ê³„ ì˜¨ë„ êµ¬ê°„ ë¶„ë¥˜ (4ë„ ë¯¸ë§Œ ~ 28ë„ ì´ìƒ)

### 3. ğŸ“Š ìŠ¤ë§ˆíŠ¸ í†µê³„ ì‹œìŠ¤í…œ
- ì˜¨ë„ë³„ Â· ì„±ë³„ë³„ ì˜·ì°¨ë¦¼ í†µê³„ ì‹¤ì‹œê°„ ì œê³µ
- ì‚¬ìš©ì ì„±ë³„ ë³€ê²½, ê²Œì‹œê¸€ ì‚­ì œ ì‹œ í†µê³„ ìë™ ì¬ê³„ì‚°
- Firebase onSnapshot ê¸°ë°˜ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

### 4. ğŸ’¬ ì‹¤ì‹œê°„ 1:1 ì±„íŒ…
- **WebSocket (Socket.io)** ê¸°ë°˜ ì¦‰ì‹œ ë©”ì‹œì§€ ì „ì†¡
- íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° (ì…ë ¥ ì¤‘ í‘œì‹œ)
- ì½ìŒ/ì•ˆ ì½ìŒ ìƒíƒœ ê´€ë¦¬
- íƒˆí‡´ íšŒì› ì²˜ë¦¬ (ì±„íŒ… ë¶ˆê°€, UI í‘œì‹œ)

### 5. ğŸ’¡ ëŒ“ê¸€ & ë‹µê¸€ ì‹œìŠ¤í…œ
- 2ë‹¨ê³„ ê¹Šì´ ëŒ“ê¸€ (ì›ëŒ“ê¸€ â†’ ë‹µëŒ“ê¸€)
- ì‹¤ì‹œê°„ ëŒ“ê¸€ ìˆ˜ ì—…ë°ì´íŠ¸
- ëŒ“ê¸€/ë‹µê¸€ ì•Œë¦¼ ìë™ ìƒì„±

### 6. ğŸ”” ì‹¤ì‹œê°„ ì•Œë¦¼
- ì¢‹ì•„ìš”, ëŒ“ê¸€, ë‹µê¸€ ì•Œë¦¼
- Firebase onSnapshot ê¸°ë°˜ ì‹¤ì‹œê°„ ìˆ˜ì‹ 
- ì½ìŒ/ì•ˆ ì½ìŒ ìƒíƒœ ê´€ë¦¬

### 7. ğŸ“± ë°˜ì‘í˜• UI
- ê²Œì‹œê¸€ ìƒì„¸: ëŒ“ê¸€ íŒ¨ë„ ìŠ¬ë¼ì´ë“œ
- ëª¨ë°”ì¼ ìµœì í™” (393px ê¸°ì¤€)
- ì´ë¯¸ì§€ ë¹„ìœ¨ ìë™ ì¡°ì • (1:1 ~ 4:5)

### 8. ğŸ¨ ê°œì¸í™”
- í”„ë¡œí•„ ì‚¬ì§„, ë‹‰ë„¤ì„, ì„±ë³„ ì„¤ì •
- ë‚´ê°€ ì“´ ê¸€ / ì¢‹ì•„ìš”í•œ ê¸€ ëª¨ì•„ë³´ê¸°
- Google ë¡œê·¸ì¸ ì—°ë™

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **State Management**: Zustand

### Backend & Database
- **BaaS**: Firebase (Firestore, Storage, Authentication)
- **Real-time**: Socket.io (WebSocket)
- **AI**: Google Cloud Vision API
- **Weather**: OpenWeather API

### Infrastructure
- **Frontend Hosting**: Vercel
- **WebSocket Server**: Railway
- **CI/CD**: GitHub Actions (ìë™ ë°°í¬)

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì‚¬ìš©ì                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
        â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vercel     â”‚    â”‚   Railway    â”‚    â”‚   Firebase   â”‚
â”‚              â”‚    â”‚              â”‚    â”‚              â”‚
â”‚  Next.js     â”‚â—„â”€â”€â–ºâ”‚  Socket.io   â”‚    â”‚  Firestore   â”‚
â”‚  Frontend    â”‚    â”‚  WebSocket   â”‚    â”‚  Storage     â”‚
â”‚              â”‚    â”‚  Server      â”‚    â”‚  Auth        â”‚
â”‚  API Routes: â”‚    â”‚              â”‚    â”‚              â”‚
â”‚  - Vision AI â”‚    â”‚              â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      External APIs               â”‚
â”‚  - Google Vision API             â”‚
â”‚  - OpenWeather API               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

#### 1. ê²Œì‹œê¸€ ì‘ì„±
```
ì‚¬ìš©ì ì´ë¯¸ì§€ ì—…ë¡œë“œ
    â†“
Firebase Storage ì €ì¥
    â†“
Google Vision API ë¶„ì„
    â†“
Firestore ì €ì¥ (AI ê²°ê³¼ í¬í•¨)
    â†“
í†µê³„ ìë™ ì—…ë°ì´íŠ¸
```

#### 2. ì‹¤ì‹œê°„ ì±„íŒ…
```
ë©”ì‹œì§€ ì…ë ¥
    â†“
WebSocketìœ¼ë¡œ ì¦‰ì‹œ ì „ì†¡ (ìƒëŒ€ë°©)
    â†“
Firebaseì— ì˜êµ¬ ì €ì¥
    â†“
onSnapshotìœ¼ë¡œ ì‹¤ì‹œê°„ ë™ê¸°í™”
```

#### 3. í†µê³„ ì‹œìŠ¤í…œ
```
ê²Œì‹œê¸€ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
    â†“
AI ë¶„ì„ ê²°ê³¼ ê¸°ë°˜ í†µê³„ ì—…ë°ì´íŠ¸
    â†“
Firebase onSnapshotìœ¼ë¡œ ì‹¤ì‹œê°„ ë°˜ì˜
    â†“
ì„±ë³„ í•„í„°ë§ ì ìš©
```

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Node.js 18.x ì´ìƒ
- npm ë˜ëŠ” yarn
- Firebase í”„ë¡œì íŠ¸
- Google Cloud í”„ë¡œì íŠ¸ (Vision API í™œì„±í™”)
- OpenWeather API í‚¤

### ì„¤ì¹˜

#### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/subin6985/WeatherFit-nextjs.git
cd weather-outfit
```

#### 2. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
```

#### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.local` íŒŒì¼ ìƒì„±
`.env.example` ì°¸ê³ 

#### 4. WebSocket ì„œë²„ ì„¤ì •

```bash
cd socket-server
npm install

# .env íŒŒì¼ ìƒì„±
echo "CLIENT_URL=http://localhost:3000" > .env
echo "PORT=3001" >> .env
```

#### 5. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
# í„°ë¯¸ë„ 1: WebSocket ì„œë²„
cd socket-server
npm run dev

# í„°ë¯¸ë„ 2: Next.js ì•±
npm run dev
```

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000` ì ‘ì†

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
weather-outfit/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (feed)/                   # ê²Œì‹œê¸€ ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ feed/                 # ê²Œì‹œê¸€ ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ post/
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/             # ê²Œì‹œê¸€ ìƒì„¸
â”‚   â”‚   â”‚   â””â”€â”€ edit/             # ê²Œì‹œê¸€ ìˆ˜ì •
â”‚   â”‚   â”œâ”€â”€ write/                # ê²Œì‹œê¸€ ì‘ì„±
â”‚   â”‚   â””â”€â”€ layout.tsx            # ê²Œì‹œê¸€ Layout
â”‚   â”œâ”€â”€ (home)/                   # ë©”ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ (mypage)/                 # ë§ˆì´í˜ì´ì§€ ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ delete-account/       # íšŒì› íƒˆí‡´
â”‚   â”‚   â”œâ”€â”€ mypage/               # ë§ˆì´í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ edit/             # ê°œì¸ì •ë³´ ìˆ˜ì •
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ password/     # ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
â”‚   â”‚   â”‚   â”œâ”€â”€ like/             # ì¢‹ì•„ìš” í•œ ê²Œì‹œê¸€
â”‚   â”‚   â”‚   â””â”€â”€ mypage/           # ë‚´ê°€ ì“´ ê²Œì‹œê¸€
â”‚   â”‚   â””â”€â”€ layout.tsx            # ë§ˆì´í˜ì´ì§€ Layout
â”‚   â”œâ”€â”€ (user)/                   # ë¡œê·¸ì¸, íšŒì›ê°€ì… ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ login/                # ë¡œê·¸ì¸
â”‚   â”‚   â”œâ”€â”€ signup/               # íšŒì›ê°€ì…
â”‚   â”‚   â”‚   â”œâ”€â”€ finish-google/    # ì†Œì…œ íšŒì›ê°€ì… ë§ˆë¬´ë¦¬ (ë‹‰ë„¤ì„, ì„±ë³„ ì„¤ì •)
â”‚   â”‚   â”‚   â””â”€â”€ layout.tsx        # ë¡œê·¸ì¸ Layout
â”‚   â”œâ”€â”€ api/                      # API Routes
â”‚   â”‚   â””â”€â”€ analyze-clothing/     # Google Vision AI
â”‚   â””â”€â”€ layout.tsx                # Root Layout
â”‚
â”œâ”€â”€ components/                   # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ baseUI/                   # ê¸°ë³¸ ê³µí†µ UI
â”‚   â”œâ”€â”€ chat/                     # ì±„íŒ… ê´€ë ¨
â”‚   â”œâ”€â”€ comment/                  # ëŒ“ê¸€ ê´€ë ¨
â”‚   â”œâ”€â”€ feed/                     # ê²Œì‹œê¸€ ëª©ë¡ ê´€ë ¨
â”‚   â”œâ”€â”€ signupUI/                 # íšŒì›ê°€ì… ê´€ë ¨
â”‚   â”œâ”€â”€ writeUI/                  # ê²Œì‹œê¸€ ì‘ì„± ê´€ë ¨
â”‚   â”œâ”€â”€ AuthProvider.tsx          # Firebase Auth ì´ˆê¸°í™” ë° ì„¸ì…˜ ê´€ë¦¬
â”‚   â”œâ”€â”€ LayoutWrapper             # ë°˜ì‘í˜• ì±„íŒ…ì°½ ë ˆì´ì•„ì›ƒ ê´€ë¦¬
â”‚   â”œâ”€â”€ NotificationBell          # ì•Œë¦¼ì°½ ê´€ë ¨
â”‚   â”œâ”€â”€ ProfileButton             # í”„ë¡œí•„ ì•„ì´ì½˜
â”‚   â”œâ”€â”€ Ratio.tsx                 # í†µê³„ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ WeatherClient.tsx         # í˜„ì¬ ë‚ ì”¨ ë³„ ë©”ì¸ í˜ì´ì§€ ì»¤ìŠ¤í…€
â”œâ”€â”€ functions/                    # resend (ì´ë©”ì¼ë¡œ ì¸ì¦ì½”ë“œ ì „ì†¡)
â”œâ”€â”€ lib/                          # ìœ í‹¸ë¦¬í‹° & ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ services/                 # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ aiClothingService.ts
â”‚   â”‚   â”œâ”€â”€ chatService.ts
â”‚   â”‚   â”œâ”€â”€ clothingStatsService.ts
â”‚   â”‚   â”œâ”€â”€ commentService.ts
â”‚   â”‚   â”œâ”€â”€ notificationService.ts
â”‚   â”‚   â””â”€â”€ postService.ts
â”‚   â”œâ”€â”€ firebase.ts               # Firebase ì„¤ì •
â”‚   â””â”€â”€ weatherUtils.ts           # ë‚ ì”¨ ìœ í‹¸
â”‚
â”œâ”€â”€ store/                        # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ useAuthStore.ts
â”‚   â”œâ”€â”€ useCommentStore.ts
â”‚   â”œâ”€â”€ useChatStore.ts
â”‚   â”œâ”€â”€ useWriteStore.ts
â”‚   â””â”€â”€ useNavigationStore.ts
â”‚
â”œâ”€â”€ socket-server/                # WebSocket ì„œë²„ (ë³„ë„ ë°°í¬)
â”‚
â”œâ”€â”€ types/                        # TypeScript íƒ€ì… ì •ì˜
â”‚   â””â”€â”€ index.ts
â”‚
â””â”€â”€ public/                       # ì •ì  íŒŒì¼
    â””â”€â”€ images/
```

---

## ğŸ”¥ ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸

### 1. AI ì˜·ì°¨ë¦¼ ë¶„ì„

**íë¦„:**
```typescript
// 1. ì´ë¯¸ì§€ ì—…ë¡œë“œ
const file = await uploadToStorage(image);

// 2. Vision API í˜¸ì¶œ
const response = await fetch('/api/analyze-clothing', {
  method: 'POST',
  body: JSON.stringify({ imageUrl: file.url })
});

// 3. ê²°ê³¼ ì €ì¥
const aiAnalysis = await response.json();
// { top: 'ë°˜ì†Œë§¤', bottom: 'ê¸´ë°”ì§€', confidence: 0.85 }
```

**ë¶„ë¥˜ ì¹´í…Œê³ ë¦¬:**
- ìƒì˜: ë¯¼ì†Œë§¤, ë°˜ì†Œë§¤, ê¸´ì†Œë§¤, ì•„ìš°í„°
- í•˜ì˜: ë°˜ë°”ì§€, ê¸´ë°”ì§€, ì§§ì€ ì¹˜ë§ˆ, ê¸´ ì¹˜ë§ˆ

**ì‹ ë¢°ë„ ê²€ì¦:**
- 0.6 ë¯¸ë§Œ: ë¶„ì„ ì‹¤íŒ¨ â†’ ì¬ì—…ë¡œë“œ ìš”ì²­

---

### 2. í†µê³„ ì‹œìŠ¤í…œ

**ë°ì´í„° êµ¬ì¡° (Firestore):**
```javascript
clothingStats/
  â””â”€ FROM20_TO22/              // ì˜¨ë„ ë²”ìœ„
      â”œâ”€ all/                  // ì „ì²´
      â”‚   â”œâ”€ top: { ë¯¼ì†Œë§¤: 5, ë°˜ì†Œë§¤: 10, ... }
      â”‚   â””â”€ bottom: { ë°˜ë°”ì§€: 8, ê¸´ë°”ì§€: 12, ... }
      â”œâ”€ female/               // ì—¬ì„±
      â””â”€ male/                 // ë‚¨ì„±
```

**ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸:**
```typescript
// Firebase onSnapshot êµ¬ë…
subscribeClothingStats(tempRange, gender, (stats) => {
  setData(stats);  // ìë™ ì—…ë°ì´íŠ¸
});
```

**í†µê³„ ì¬ê³„ì‚° ì‹œë‚˜ë¦¬ì˜¤:**
1. ê²Œì‹œê¸€ ìƒì„±: í•´ë‹¹ ì˜¨ë„Â·ì„±ë³„ í†µê³„ +1
2. ê²Œì‹œê¸€ ì‚­ì œ: í•´ë‹¹ ì˜¨ë„Â·ì„±ë³„ í†µê³„ -1
3. ê²Œì‹œê¸€ ìˆ˜ì •: ì˜¨ë„ ë³€ê²½ ì‹œ ì´ì „ í†µê³„ -1, ìƒˆ í†µê³„ +1
4. ì„±ë³„ ë³€ê²½: ëª¨ë“  ê²Œì‹œê¸€ í†µê³„ ì¬ê³„ì‚°

---

### 3. ì‹¤ì‹œê°„ ì±„íŒ…

**í•˜ì´ë¸Œë¦¬ë“œ êµ¬ì¡°:**
- **WebSocket**: ì‹¤ì‹œê°„ ì „ì†¡ (ì¦‰ì‹œì„±)
- **Firebase**: ë©”ì‹œì§€ ì €ì¥ (ì˜êµ¬ì„±)

**ë©”ì‹œì§€ ì „ì†¡ íë¦„:**
```typescript
// 1. WebSocketìœ¼ë¡œ ì¦‰ì‹œ ì „ì†¡
socket.emit('send-message', messageData);

// 2. Firebaseì— ì €ì¥
await saveMessage(roomId, userId, message);

// 3. onSnapshotìœ¼ë¡œ ë™ê¸°í™”
subscribeMessages(roomId, (messages) => {
  setMessages(messages);
});
```

**ì£¼ìš” ê¸°ëŠ¥:**
- íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° (2ì´ˆ íƒ€ì„ì•„ì›ƒ)
- ì½ìŒ ì²˜ë¦¬
- íƒˆí‡´ íšŒì› ì²˜ë¦¬
- ì—°ê²° ìƒíƒœ í‘œì‹œ

---

### 4. ëŒ“ê¸€ ì‹œìŠ¤í…œ

**ë°ì´í„° êµ¬ì¡°:**
```javascript
posts/{postId}/comments/
  â””â”€ {commentId}/
      â”œâ”€ userId
      â”œâ”€ content
      â”œâ”€ parentId: null        // ì›ëŒ“ê¸€
      â”œâ”€ depth: 0
      â””â”€ replyCount: 2
      
      â””â”€ replies/              // ì„œë¸Œì»¬ë ‰ì…˜
          â”œâ”€ {replyId1}/
          â”‚   â””â”€ parentId: commentId  // ë‹µëŒ“ê¸€
          â””â”€ {replyId2}/
```

**ê¸°ëŠ¥:**
- 2ë‹¨ê³„ ê¹Šì´ë§Œ í—ˆìš© (ì›ëŒ“ê¸€ â†’ ë‹µëŒ“ê¸€)
- ì‹¤ì‹œê°„ ëŒ“ê¸€ ìˆ˜ ì—…ë°ì´íŠ¸
- ì‚­ì œ ì‹œ "ì‚­ì œëœ ëŒ“ê¸€" í‘œì‹œ (ë‹µëŒ“ê¸€ ìˆëŠ” ê²½ìš°)
- ë‹µëŒ“ê¸€ì´ ì—†ì–´ì§€ë©´ ì›ëŒ“ê¸€ë„ ì™„ì „íˆ ì œê±°
- ì•Œë¦¼ ìë™ ìƒì„±

---

### 5. ì•Œë¦¼ ì‹œìŠ¤í…œ

**ì•Œë¦¼ íƒ€ì…:**
- `like`: ì¢‹ì•„ìš”
- `comment`: ëŒ“ê¸€
- `reply`: ë‹µê¸€

**ì‹¤ì‹œê°„ êµ¬ë…:**
```typescript
subscribeNotifications(userId, (notifications) => {
  const unreadCount = notifications.filter(n => !n.isRead).length;
  setUnreadCount(unreadCount);
});
```

**UI í‘œì‹œ:**
- í—¤ë” ì•Œë¦¼ ì•„ì´ì½˜ (ë¹¨ê°„ ë±ƒì§€)
- ì•Œë¦¼ ëª©ë¡ ëª¨ë‹¬
- ì½ìŒ ì²˜ë¦¬

---

## ğŸŒ ë°°í¬

- WebSocket ì„œë²„ (Railway)
- Frontend (Vercel)

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### Firestore Collections

```javascript
users/
  â””â”€ {userId}/
      â”œâ”€ email
      â”œâ”€ nickname
      â”œâ”€ profilePhoto
      â”œâ”€ gender
      â””â”€ createdAt

posts/
  â””â”€ {postId}/
      â”œâ”€ memberId
      â”œâ”€ post
      â”œâ”€ photo
      â”œâ”€ temp
      â”œâ”€ tempRange
      â”œâ”€ region
      â”œâ”€ outfitDate
      â”œâ”€ gender
      â”œâ”€ likes
      â”œâ”€ likedBy[]
      â”œâ”€ aiAnalysis { top, bottom, confidence }
      â””â”€ createdAt
      
      â””â”€ comments/
          â””â”€ {commentId}/
              â”œâ”€ userId
              â”œâ”€ content
              â”œâ”€ parentId
              â”œâ”€ depth
              â”œâ”€ replyCount
              â””â”€ createdAt

chatRooms/
  â””â”€ {roomId}/
      â”œâ”€ participants[]
      â”œâ”€ participantNames{}
      â”œâ”€ participantPhotos{}
      â”œâ”€ lastMessage
      â”œâ”€ lastMessageTime
      â”œâ”€ unreadCount{}
      â””â”€ createdAt
      
      â””â”€ messages/
          â””â”€ {messageId}/
              â”œâ”€ senderId
              â”œâ”€ message
              â”œâ”€ timestamp
              â””â”€ isRead

notifications/
  â””â”€ {notificationId}/
      â”œâ”€ recipientId
      â”œâ”€ senderId
      â”œâ”€ type
      â”œâ”€ postId
      â”œâ”€ message
      â”œâ”€ isRead
      â””â”€ createdAt

clothingStats/
  â””â”€ {tempRange}/
      â”œâ”€ all { top{}, bottom{} }
      â”œâ”€ female { top{}, bottom{} }
      â””â”€ male { top{}, bottom{} }

emailVerifications/
  â””â”€ {email}/
      â”œâ”€ email
      â”œâ”€ code
      â”œâ”€ createdAt
      â”œâ”€ expiresAt
      â””â”€ verified
```